{"ast":null,"code":"import _objectSpread from\"/Users/martinbonchev/coding/udemy/react/burger-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import*as actionTypes from\"../actions/actionTypes\";import axios from\"../../axios-orders\";export var purchaseBurgerSuccess=function purchaseBurgerSuccess(id,orderData){return{type:actionTypes.PURCHASE_BURGER_SUCCESS,orderId:id,orderData:orderData};};export var purchaseBurgerFail=function purchaseBurgerFail(error){return{type:actionTypes.PURCHASE_BURGER_FAIL,error:error};};export var purchaseBurgerStart=function purchaseBurgerStart(){return{type:actionTypes.PURCHASE_BURGER_START};};export var purchaseBurger=function purchaseBurger(orderData,token){return function(dispatch){dispatch(purchaseBurgerStart());axios.post(\"/orders.json?auth=\"+token,orderData).then(function(response){dispatch(purchaseBurgerSuccess(response.data.name,orderData));}).catch(function(error){dispatch(purchaseBurgerFail(error));});};};export var purchaseInit=function purchaseInit(){return{type:actionTypes.PURCHASE_INIT};};export var fetchedOrdersSuccess=function fetchedOrdersSuccess(orders){return{type:actionTypes.FECTHED_ORDERS_SUCCESS,orders:orders};};export var fetchedOrdersFail=function fetchedOrdersFail(error){return{type:actionTypes.FECTHED_ORDERS_FAIL,error:error};};export var fetchedOrdersStart=function fetchedOrdersStart(){return{type:actionTypes.FECTHED_ORDERS_START};};export var fetchedOrders=function fetchedOrders(token,userId){return function(dispatch){dispatch(fetchedOrdersStart());axios.get(\"/orders.json\",{params:{auth:token,orderBy:'\"userId\"',equalTo:\"\\\"\".concat(userId,\"\\\"\")}}).then(function(res){var fetchedOrders=[];for(var key in res.data){fetchedOrders.push(_objectSpread(_objectSpread({},res.data[key]),{},{id:[key]}));}dispatch(fetchedOrdersSuccess(fetchedOrders));}).catch(function(err){dispatch(fetchedOrdersFail(err));});};};","map":{"version":3,"sources":["/Users/martinbonchev/coding/udemy/react/burger-project/src/store/actions/order.js"],"names":["actionTypes","axios","purchaseBurgerSuccess","id","orderData","type","PURCHASE_BURGER_SUCCESS","orderId","purchaseBurgerFail","error","PURCHASE_BURGER_FAIL","purchaseBurgerStart","PURCHASE_BURGER_START","purchaseBurger","token","dispatch","post","then","response","data","name","catch","purchaseInit","PURCHASE_INIT","fetchedOrdersSuccess","orders","FECTHED_ORDERS_SUCCESS","fetchedOrdersFail","FECTHED_ORDERS_FAIL","fetchedOrdersStart","FECTHED_ORDERS_START","fetchedOrders","userId","get","params","auth","orderBy","equalTo","res","key","push","err"],"mappings":"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","sourcesContent":["import * as actionTypes from \"../actions/actionTypes\";\nimport axios from \"../../axios-orders\";\n\nexport const purchaseBurgerSuccess = (id, orderData) => {\n  return {\n    type: actionTypes.PURCHASE_BURGER_SUCCESS,\n    orderId: id,\n    orderData: orderData,\n  };\n};\n\nexport const purchaseBurgerFail = (error) => {\n  return {\n    type: actionTypes.PURCHASE_BURGER_FAIL,\n    error: error,\n  };\n};\n\nexport const purchaseBurgerStart = () => {\n  return {\n    type: actionTypes.PURCHASE_BURGER_START,\n  };\n};\n\nexport const purchaseBurger = (orderData, token) => {\n  return (dispatch) => {\n    dispatch(purchaseBurgerStart());\n    axios\n      .post(\"/orders.json?auth=\" + token, orderData)\n      .then((response) => {\n        dispatch(purchaseBurgerSuccess(response.data.name, orderData));\n      })\n      .catch((error) => {\n        dispatch(purchaseBurgerFail(error));\n      });\n  };\n};\nexport const purchaseInit = () => {\n  return {\n    type: actionTypes.PURCHASE_INIT,\n  };\n};\nexport const fetchedOrdersSuccess = (orders) => {\n  return {\n    type: actionTypes.FECTHED_ORDERS_SUCCESS,\n    orders: orders,\n  };\n};\nexport const fetchedOrdersFail = (error) => {\n  return {\n    type: actionTypes.FECTHED_ORDERS_FAIL,\n    error: error,\n  };\n};\nexport const fetchedOrdersStart = () => {\n  return {\n    type: actionTypes.FECTHED_ORDERS_START,\n  };\n};\nexport const fetchedOrders = (token, userId) => {\n  return (dispatch) => {\n    dispatch(fetchedOrdersStart());\n\n    axios\n      .get(\"/orders.json\", {\n        params: {\n          auth: token,\n          orderBy: '\"userId\"',\n          equalTo: `\"${userId}\"`,\n        },\n      })\n      .then((res) => {\n        let fetchedOrders = [];\n\n        for (const key in res.data) {\n          fetchedOrders.push({ ...res.data[key], id: [key] });\n        }\n        dispatch(fetchedOrdersSuccess(fetchedOrders));\n      })\n      .catch((err) => {\n        dispatch(fetchedOrdersFail(err));\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}