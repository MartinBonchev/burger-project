{"ast":null,"code":"import _classCallCheck from\"/Users/martinbonchev/coding/udemy/react/burger-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/martinbonchev/coding/udemy/react/burger-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/martinbonchev/coding/udemy/react/burger-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/martinbonchev/coding/udemy/react/burger-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Layout from\"./hoc/Layout/Layout\";import BurgerBuilder from\"./containers/BurgerBuilder/BurgerBuilder\";import{Switch,Route,withRouter,Redirect}from\"react-router-dom\";import Logout from\"./containers/Auth/Logout/Logout\";import{connect}from\"react-redux\";import*as actions from\"./store/actions/index\";import asyncComponent from\"./hoc/asyncComponent/asyncComponent\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var asyncCheckout=asyncComponent(function(){return import(\"./containers/Checkout/Checkout\");});var asyncOrders=asyncComponent(function(){return import(\"./containers/Orders/Orders\");});var asyncAuth=asyncComponent(function(){return import(\"./containers/Auth/Auth\");});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.props.onTryAuthSignup();return _this;}_createClass(App,[{key:\"render\",value:function render(){var routes=null;if(this.props.isLogged){console.log(this.props);routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:BurgerBuilder}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",component:asyncCheckout}),/*#__PURE__*/_jsx(Route,{path:\"/orders\",component:asyncOrders}),/*#__PURE__*/_jsx(Route,{path:\"/logout\",component:Logout}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]});}else routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",component:asyncAuth}),/*#__PURE__*/_jsx(Redirect,{to:\"/login\"})]});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Layout,{children:routes})});}}]);return App;}(Component);var mapStateToProps=function mapStateToProps(state){return{isLogged:state.auth.token};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onTryAuthSignup:function onTryAuthSignup(){return dispatch(actions.authCheckState());}};};export default withRouter(connect(mapStateToProps,mapDispatchToProps)(App));","map":{"version":3,"sources":["/Users/martinbonchev/coding/udemy/react/burger-project/src/App.js"],"names":["React","Component","Layout","BurgerBuilder","Switch","Route","withRouter","Redirect","Logout","connect","actions","asyncComponent","asyncCheckout","asyncOrders","asyncAuth","App","props","onTryAuthSignup","routes","isLogged","console","log","mapStateToProps","state","auth","token","mapDispatchToProps","dispatch","authCheckState"],"mappings":"oqBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,0CAA1B,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,UAAxB,CAAoCC,QAApC,KAAoD,kBAApD,CAEA,MAAOC,CAAAA,MAAP,KAAmB,iCAAnB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,uBAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,qCAA3B,C,wFAEA,GAAMC,CAAAA,aAAa,CAAGD,cAAc,CAAC,UAAM,CACzC,MAAO,QAAO,gCAAP,CAAP,CACD,CAFmC,CAApC,CAGA,GAAME,CAAAA,WAAW,CAAGF,cAAc,CAAC,UAAM,CACvC,MAAO,QAAO,4BAAP,CAAP,CACD,CAFiC,CAAlC,CAGA,GAAMG,CAAAA,SAAS,CAAGH,cAAc,CAAC,UAAM,CACrC,MAAO,QAAO,wBAAP,CAAP,CACD,CAF+B,CAAhC,C,GAGMI,CAAAA,G,0FACJ,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EACA,MAAKA,KAAL,CAAWC,eAAX,GAFiB,aAGlB,C,sCAED,iBAAS,CACP,GAAIC,CAAAA,MAAM,CAAG,IAAb,CAEA,GAAI,KAAKF,KAAL,CAAWG,QAAf,CAAyB,CACvBC,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAjB,EACAE,MAAM,cACJ,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,SAAS,CAAEf,aAAjC,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,SAAS,CAAES,aAAnC,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,SAAS,CAAEC,WAAjC,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,SAAS,CAAEL,MAAjC,EAJF,cAKE,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EALF,GADF,CASD,CAXD,IAYEU,CAAAA,MAAM,cACJ,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAEJ,SAAhC,EADF,cAEE,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAFF,GADF,CAMF,mBACE,kCACE,KAAC,MAAD,WAASI,MAAT,EADF,EADF,CAKD,C,iBAhCejB,S,EAmClB,GAAMqB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAClCJ,QAAQ,CAAEI,KAAK,CAACC,IAAN,CAAWC,KADa,CAAZ,EAAxB,CAIA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACvC,MAAO,CACLV,eAAe,CAAE,iCAAMU,CAAAA,QAAQ,CAACjB,OAAO,CAACkB,cAAR,EAAD,CAAd,EADZ,CAAP,CAGD,CAJD,CAMA,cAAetB,CAAAA,UAAU,CAACG,OAAO,CAACa,eAAD,CAAkBI,kBAAlB,CAAP,CAA6CX,GAA7C,CAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport Layout from \"./hoc/Layout/Layout\";\nimport BurgerBuilder from \"./containers/BurgerBuilder/BurgerBuilder\";\nimport { Switch, Route, withRouter, Redirect } from \"react-router-dom\";\n\nimport Logout from \"./containers/Auth/Logout/Logout\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"./store/actions/index\";\nimport asyncComponent from \"./hoc/asyncComponent/asyncComponent\";\n\nconst asyncCheckout = asyncComponent(() => {\n  return import(\"./containers/Checkout/Checkout\");\n});\nconst asyncOrders = asyncComponent(() => {\n  return import(\"./containers/Orders/Orders\");\n});\nconst asyncAuth = asyncComponent(() => {\n  return import(\"./containers/Auth/Auth\");\n});\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.props.onTryAuthSignup();\n  }\n\n  render() {\n    let routes = null;\n\n    if (this.props.isLogged) {\n      console.log(this.props);\n      routes = (\n        <Switch>\n          <Route path=\"/\" exact component={BurgerBuilder} />\n          <Route path=\"/checkout\" component={asyncCheckout} />\n          <Route path=\"/orders\" component={asyncOrders} />\n          <Route path=\"/logout\" component={Logout} />\n          <Redirect to=\"/\" />\n        </Switch>\n      );\n    } else\n      routes = (\n        <Switch>\n          <Route path=\"/login\" component={asyncAuth} />\n          <Redirect to=\"/login\" />\n        </Switch>\n      );\n    return (\n      <div>\n        <Layout>{routes}</Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isLogged: state.auth.token,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onTryAuthSignup: () => dispatch(actions.authCheckState()),\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n"]},"metadata":{},"sourceType":"module"}